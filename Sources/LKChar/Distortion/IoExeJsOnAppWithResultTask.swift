
import UIKit
import Taleo_General
import AgoraRtcKit
import Package_net
import Taleo_mine
import AVFAudio

class IoExeJsOnAppWithResultTask: UITableViewCell {
        
    var jRedundantLength: ((_ type : Int)->Void)?
        
        
    @IBOutlet weak var hSerializationData: NSLayoutConstraint!
    @IBOutlet weak var nFieldName: NSLayoutConstraint!
        
    @IBOutlet weak var oNsHeight: UIView!
    @IBOutlet weak var hPasteboardNumerics: UIImageView!
        
    @IBOutlet weak var jEnsuredValue: NSLayoutConstraint!
    @IBOutlet weak var dSharpPublish: UIImageView!
    @IBOutlet weak var lMockPosition: UILabel!
    @IBOutlet weak var cRemoveIndex: UIImageView!
    @IBOutlet weak var eFromLegend: UILabel!
    @IBOutlet weak var tChoiceMode: UIView!
    @IBOutlet weak var yExtensions: UILabel!
    @IBOutlet weak var pThreadAdapter: UIButton!
    weak var nGotFlags : jniDisposeDelegate?
        
    var dCallbackManager : UIView!
    var jBuildEither = 0
        
    var oBundledPath : IoComponentViewOnce! {
        didSet {
            getParentComToThisComOffset()
        }
    }
        
        
    func getParentComToThisComOffset() {
        if oBundledPath.kDelegateModal != nil && oBundledPath.kDelegateModal!.count > 0 {
            lMockPosition.text = oBundledPath.kDelegateModal
        }else {
            lMockPosition.text = ""
        }
        yExtensions.text = ""
        yExtensions.text = "\(oBundledPath.hContainerTo)\""
        if jBuildEither == 1 {
            if dCallbackManager == nil {
                dCallbackManager = UIView()
                dCallbackManager.frame = CGRectMake(0, 0, 22, 22)
                dCallbackManager.backgroundColor = .clear
                dCallbackManager.isUserInteractionEnabled = false
                oNsHeight.addSubview(dCallbackManager)
                                
                if dSharpPublish.image != nil {
                    dCallbackManager?.frame = CGRectMake(5, 0, 22, 22)
                    wBackgroundQueue.setDecimalFormatSymbols(dCallbackManager, 0, "viagens_egq")
                }else{
                    wBackgroundQueue.setDecimalFormatSymbols(dCallbackManager, 0, "notational_kyl_musicdatabasedirectory")
                }
            }
        }else {
            wBackgroundQueue.setIntervalPattern(dCallbackManager)
        }
    }
        
        
    @IBAction func sRemoveRedundancies(_ sender: Any) {
        HeCertificateExpiredException.watchHeadingWithWatchId(Int(oBundledPath.gAvatarChange) ?? 0)
    }
        
    func dateToString(_ avatar : String, _ name : String) {
        cRemoveIndex.recipientStateForAddress(avatar, 100)
        eFromLegend.text = name
    }
        
    @IBAction func symOutlinedFormatTextdirectionVertical(_ sender: Any) {
                
                
        if IoInfoExpression.iRemindersB.sThemeChanged != tag {
            IoInfoExpression.iRemindersB.hContainerTo = Double(oBundledPath.hContainerTo)
            if oBundledPath.xSetRotate != nil {
                IoInfoExpression.iRemindersB.sThemeChanged = tag
                IoInfoExpression.iRemindersB.getRotationSpeed(oBundledPath.xSetRotate!)
                jRedundantLength?(tag)
                hPasteboardNumerics.isHidden = true
                IoInfoExpression.iRemindersB.jRedundantLength = { [weak self] in
                    self?.hPasteboardNumerics.isHidden = false
                    self?.jRedundantLength?(-1)
                }
            }else if oBundledPath.gPressedData?.count != 0 {
                IoInfoExpression.iRemindersB.sThemeChanged = tag
                IoInfoExpression.iRemindersB.getEmitterType(oBundledPath.gPressedData!)
                jRedundantLength?(tag)
                hPasteboardNumerics.isHidden = true
                IoInfoExpression.iRemindersB.jRedundantLength = { [weak self] in
                    self?.hPasteboardNumerics.isHidden = false
                    self?.jRedundantLength?(-1)
                }
            }
        }else {
            IoInfoExpression.iRemindersB.openBracePos()
        }
    }
        
    func uILabelCounterRate(_ image : String) {

        if oBundledPath.qClockListener == 3 {
            dSharpPublish.sd_cancelCurrentImageLoad()
            dSharpPublish.image = nil
            lMockPosition.textColor = .black
                        
            tChoiceMode.backgroundColor = GettingColors("FFCC84")
            tChoiceMode.layer.cornerRadius = 10
            tChoiceMode.layer.maskedCorners = [.layerMaxXMinYCorner,.layerMinXMaxYCorner,.layerMaxXMaxYCorner]

            tChoiceMode.layer.borderColor = GettingColors("ED9D5C").cgColor
                        
            if image.count > 0 {
                tChoiceMode.backgroundColor = .clear
                jEnsuredValue.constant = 56
                hSerializationData.constant = 20
                nFieldName.constant = 20
                yExtensions.textColor = .white
                dSharpPublish.isParagraphStyleUsed(image)
                hPasteboardNumerics.wRefreshFeed = "breathe_tegn_elc"
                tChoiceMode.layer.borderWidth = 0
            }else {
                jEnsuredValue.constant = 36
                hSerializationData.constant = 10
                nFieldName.constant = 10
                yExtensions.textColor = GettingColors("CD873C")
                hPasteboardNumerics.wRefreshFeed = "samsam_uidevice"
                tChoiceMode.backgroundColor = GettingColors("FFCC84")
                tChoiceMode.layer.borderWidth = 2
            }
        }
    }
        
    override func awakeFromNib() {
        super.awakeFromNib()
                
        pThreadAdapter.addGestureRecognizer(UILongPressGestureRecognizer(target: self, action: #selector(isArgumentsIdent(_ :))))
                
    }
  
    @objc func isArgumentsIdent(_ state : UILongPressGestureRecognizer) {
        if state.state == .began {
            "".fadeToBlack("igravitystudios_vikramvi_xequal", tag)
        }
    }
        
        
        
}




class IoInfoExpression : NSObject, @preconcurrency AVAudioPlayerDelegate {
        
        
    var sThemeChanged = -1
        
    nonisolated(unsafe) static var iRemindersB = IoInfoExpression()
    var jRedundantLength: (()->Void)?
        
    var vBindingConfiguration = 100
    var hContainerTo = 0.0
    public var eDownloadMessage : AVAudioPlayer?
    var pFrameSource : DispatchWorkItem?
        
        
    @MainActor func openBracePos() {
        eDownloadMessage?.delegate = nil
        eDownloadMessage?.stop()
        self.commitAppMonitorArgs()
        iErrnoException = nil
        sThemeChanged = -1
    }
    func getRotationSpeed(_ data : Data) {
        eDownloadMessage?.delegate = nil
        eDownloadMessage?.stop()
        eDownloadMessage = nil
        wifiManagerClass()
        do {
            try AVAudioSession.sharedInstance().setCategory(.playback)
            try AVAudioSession.sharedInstance().setActive(true)
            try eDownloadMessage = AVAudioPlayer(data: data as Data)
            wifiManagerClass()
            closeActiveEditor()
            eDownloadMessage?.delegate = self
            eDownloadMessage?.play()
        }catch{
            iErrnoException = nil
        }
    }
    @MainActor func audioPlayerDidFinishPlaying(_ player: AVAudioPlayer, successfully flag: Bool) {
        self.commitAppMonitorArgs()
        iErrnoException = nil
        sThemeChanged = -1
        jRedundantLength?()
    }
        
    @MainActor func getEmitterType(_ data : String) {
        wifiManagerClass()
        let aLimitLine = iErrnoException?.getConnectionState()
        if aLimitLine == .connected {
            DispatchQueue.main.async {
            }
            iSuppressAnimations.symRoundedBackgroundGridSmall(data) { [weak self] string in
                if string.count == 0 {
                    self?.commitAppMonitorArgs()
                    iErrnoException = nil
                    self?.sThemeChanged = -1
                    self?.jRedundantLength?()
                }else {
                    iErrnoException?.playEffect(103, filePath: string, loopCount: 0, pitch: 1, pan: 1, gain: 120, publish: false, startPos: 0)
                    self?.pFrameSource?.cancel()
                    self?.pFrameSource = nil
                    self?.pFrameSource = DispatchWorkItem { [weak self] in
                        self?.commitAppMonitorArgs()
                        iErrnoException = nil
                        self?.sThemeChanged = -1
                        self?.jRedundantLength?()
                    }
                    if let yLayoutEnabled = self?.pFrameSource {
                        DispatchQueue.main.asyncAfter(deadline: .now() + self!.hContainerTo, execute: yLayoutEnabled)
                    }
                }
                DispatchQueue.main.async {
                    HeLoadPaletted.upLoadModel()
                }
            }
        }else {
            DispatchQueue.main.async {
            }
            iSuppressAnimations.symRoundedBackgroundGridSmall(data) { [weak self] string in
                if string.count == 0 {
                    self?.commitAppMonitorArgs()
                    iErrnoException = nil
                    self?.sThemeChanged = -1
                    self?.jRedundantLength?()
                }else {
                    self?.mapViewWillStartLoadingMap(string)
                }
                DispatchQueue.main.async {
                    HeLoadPaletted.upLoadModel()
                }
            }
        }
    }
    @MainActor func mapViewWillStartLoadingMap(_ path : String) {
        eDownloadMessage?.delegate = nil
        eDownloadMessage?.stop()
        eDownloadMessage = nil
        do {
            try AVAudioSession.sharedInstance().setCategory(.playback)
            try AVAudioSession.sharedInstance().setActive(true)
            let cStrFolder = NSData(contentsOfFile: path)!
            try eDownloadMessage = AVAudioPlayer(data: cStrFolder as Data)
            closeActiveEditor()
            eDownloadMessage?.delegate = self
            eDownloadMessage?.play()
        }catch {
            self.commitAppMonitorArgs()
            iErrnoException = nil
            sThemeChanged = -1
            jRedundantLength?()
        }
    }
        
    func wifiManagerClass() {
        if iErrnoException == nil {
            let bPaymentMessage = bGetVisibility.fFrameChanged
            iErrnoException = AgoraRtcEngineKit.sharedEngine(withAppId: bPaymentMessage, delegate: nil)
            iErrnoException?.setAudioScenario(AgoraAudioScenario.gameStreaming)
        }
    }
        
    func closeActiveEditor() {
        if iErrnoException != nil {
            let aLimitLine = iErrnoException?.getConnectionState()
            if aLimitLine == .connected {
                iErrnoException?.adjustPlaybackSignalVolume(0)
                iErrnoException?.muteLocalAudioStream(true)
                iErrnoException?.disableAudio()
                vBindingConfiguration = 0
            }
        }
    }
    @MainActor func commitAppMonitorArgs() {
        if iErrnoException != nil && vBindingConfiguration == 0 {
            iErrnoException?.disableAudio()
            DispatchQueue.main.asyncAfter(deadline: .now() + 0.5) { [self] in
                self.vBindingConfiguration = 100
                iErrnoException?.enableAudio()
                if HeExecuteDelete.iRemindersB.iActivityState == true {
                    if HeExecuteDelete.iRemindersB.iRecordIndex == true {
                        iErrnoException?.adjustPlaybackSignalVolume(100)
                    }else{
                        iErrnoException?.adjustPlaybackSignalVolume(0)
                    }
                    if HeExecuteDelete.iRemindersB.rContactThreads == true {
                        iErrnoException?.muteLocalAudioStream(false)
                    }else{
                        iErrnoException?.muteLocalAudioStream(true)
                    }
                }else {
                    iErrnoException?.adjustPlaybackSignalVolume(100)
                    iErrnoException?.muteLocalAudioStream(false)
                }
            }
        }
    }
}
