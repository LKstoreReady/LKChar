
import UIKit
import AVFAudio
import RongIMLibCore
import AVFAudio
import TTLBGenerals


protocol numberSystemDelegate :AnyObject {
    func fasFaceGrinTears(_ content : RCHQVoiceMessage)
}



class IoLiteralEnum: HeFullClassName{
        
        
    var dAudioFormats : Timer?
        
        
        
    var wOnBasis = false
        
    var cPersistableMode = UIImageView()
        
   weak var resultBundleDelegate : numberSystemDelegate?
        
        
    var fRandomMessage : AVAudioRecorder?
        
        
    var jSetPlayer = ""
        
        
    var lRunCommand = 0
        
        
    var mFpsArray = 0
        
        
        
    var lMockPosition : UILabel!
        
        

    var cStyleTerminal : UILabel!
        
        

    var jDelayFactor = false
        
        
    let dAndroidParameters = [AVFormatIDKey : (kAudioFormatLinearPCM),
                    AVSampleRateKey : (16000),
                    AVNumberOfChannelsKey : 1,
                    AVLinearPCMIsNonInterleaved : 0,
                    AVLinearPCMIsFloatKey : 0,
                    AVLinearPCMIsBigEndianKey : 0,
                    AVAudioFileTypeKey : kAudioFileWAVEType,
                    AVLinearPCMBitDepthKey : 16
                    ]
        
        
        
        
        
        
        
    deinit {
        dAudioFormats?.invalidate()
        dAudioFormats = nil
        fRandomMessage?.stop()
        fRandomMessage = nil
        capturedStatusBarProperties()
        print("``````````````````````````",String(describing: type(of: self)),"` deinit")
    }
        
        
        
        
        
    override func mdiFormatLetterStartsWith() {
        super.mdiFormatLetterStartsWith()
        super.removeFromSuperview()
        fRandomMessage?.stop()

        sdkVersionAnnotation("")
        PtIconWallThumbVar.iRemindersB.mockTemplateApiBeans()
        self.dAudioFormats?.invalidate()
        self.dAudioFormats = nil
        wOnBasis = false
    }
        
        
        
    @objc func setUseInnerVoice() {
        fRandomMessage?.deleteRecording()
        lMockPosition.text = "0”"
        mFpsArray = 0
        let wSetScratch = AVAudioSession.sharedInstance().recordPermission
        if wSetScratch == AVAudioSession.RecordPermission.granted {
            HeCertificateExpiredException.cfaBranchDirection()
            do {
                try AVAudioSession.sharedInstance().setCategory(.playAndRecord)
                try AVAudioSession.sharedInstance().setActive(true)
                self.wOnBasis = true
                DispatchQueue.main.asyncAfter(deadline: .now() + 0.3) { [weak self] in
                    guard let self = self else {return}
                    self.fRandomMessage?.record()
                                        
                    if self.dAudioFormats == nil {
                        self.dAudioFormats = Timer.scheduledTimer(timeInterval: 1, target: self, selector: #selector(self.normalizedXCoordinate), userInfo: nil, repeats: true)
                    }
                }
            } catch {}
        }else{
            AVAudioSession.sharedInstance().requestRecordPermission { Bool in
                DispatchQueue.main.async { [weak self] in
                    guard let self = self else {return}
                    if (!Bool){
                        self.wOnBasis = false
                        let bGenCube = UIAlertController(title: roundPriceChange("sauces_kappale"), message: roundPriceChange("players_brianclinkenbeard_accedir"), preferredStyle: .alert)
                        let gMemoryCost = UIAlertAction(title: roundPriceChange("multidex_arnoappenzeller"), style: .default) { _ in
                            let pUnpackArg : URL = URL(string: UIApplication.openSettingsURLString)! as URL
                            UIApplication.shared.open(pUnpackArg)
                        }
                        let jFlyingSaucer = UIAlertAction(title: roundPriceChange("nullvalue_morozov"), style: .cancel) { _ in
                        }
                        bGenCube.addAction(gMemoryCost)
                        bGenCube.addAction(jFlyingSaucer)
                        self.window?.rootViewController?.present(bGenCube, animated: true, completion: nil)
                    }
                }
            }
        }
    }
        
        
    @objc func  bMultiPlay() {
        if wOnBasis {
            self.lRunCommand = Int(self.fRandomMessage!.currentTime)
            self.fRandomMessage?.stop()
                        
            HeCertificateExpiredException.setClippingToBounds()
            self.dAudioFormats?.invalidate()
            self.dAudioFormats = nil
            if lMockPosition.text == "0”" {
                sdkVersionAnnotation("")
                DispatchQueue.main.asyncAfter(deadline: .now() + 0.5) { [weak self] in
                    self?.fRandomMessage?.stop()
                }
            }else{
                clearTempRegisterValid()

            }
        }
    }
        
        
    @objc func normalizedXCoordinate() {
        mFpsArray += 1
        let tCreationTimestamp = mFpsArray%60
        let sOffsetCoords = mFpsArray/60
        lMockPosition.text = String(format: "%d”", mFpsArray)
    }
        
        
    func sdkVersionAnnotation(_ sender: Any) {
        if let timer = self.dAudioFormats {
            timer.invalidate() 
            self.dAudioFormats = nil  
        }
        sizingCacheKey()
    }
        
        
    private func sizingCacheKey(){
        lMockPosition.text = "0”"
        mFpsArray = 0
        lRunCommand = 0
        PtIconWallThumbVar.iRemindersB.mockTemplateApiBeans()
    }
        
        
    private func clearTempRegisterValid(){
        if mFpsArray >= 1{
            print("clearTempRegisterValid")
            let xFromBranch = NSHomeDirectory().appending("/Library/Caches/" + jSetPlayer)
            let gPressedData = RCHQVoiceMessage(path: xFromBranch, duration: self.lRunCommand)
            if self.lRunCommand > 0 {
                self.resultBundleDelegate?.fasFaceGrinTears(gPressedData)
            }
        }
    }
        
        
    override func removeFromSuperview() {
        fRandomMessage?.stop()

        super.removeFromSuperview()
        sdkVersionAnnotation("")
    }
        
        

        
        
        
    override func mdiCheckNetworkOutline() {
        super.mdiCheckNetworkOutline()
        responseFileCommands()
        previousUncaughtExceptionHandler()
        oPermClass?.backgroundColor = GettingColors("FFDCA3")
                
        qClockListener = 2
                
        lMockPosition = oPermClass?.isMusicPlaying("", 20, "CD873C", CGRectMake(0, 20, aFullIntersection, 20), true, 0)
        lMockPosition.text = "0”"
                
        cStyleTerminal = oPermClass?.isMusicPlaying("formerly_fragile", 15, "CD873C", CGRectMake(0, 73, aFullIntersection, 20), true, 0)
                
                
                
        cPersistableMode.wRefreshFeed = "kumoa_delegation"
        cPersistableMode.isHidden = true
        oPermClass!.addSubview(cPersistableMode)
                
        let zTempStore = oPermClass?.socialMetaTagParameters(aFullIntersection - 36)
        zTempStore?.btConvexPolyhedron(self, #selector(mdiFormatLetterStartsWith))
        zTempStore?.wRefreshFeed = "ortho_typebox"
                
        let qFabNutritionix = oPermClass!.isPassB(CGRectMake(aFullIntersection/2 - 47, 110, 94, 94), "bottomright_estar_pfnglfreeobjectbufferatiproc")
        let sDstPrimaries = UILongPressGestureRecognizer(target: self, action: #selector(isArgumentsIdent(_ :)))
        sDstPrimaries.minimumPressDuration = 0.1
        qFabNutritionix.addGestureRecognizer(sDstPrimaries)
                
        oPermClass!.height = qFabNutritionix.bottom + 46 + UIDevice.setAlignRulerOpen()
        cPersistableMode.frame = CGRectMake(0, 0, 327, 52)
        cPersistableMode.center = qFabNutritionix.center
        jSetPlayer = String(format: "%d.mp3", btQuantizedBvhDataName())
        let xFromBranch = NSHomeDirectory().appending("/Library/Caches/" + self.jSetPlayer)
        let iGetFacets = NSURL(fileURLWithPath: xFromBranch) as URL
        do {
            try self.fRandomMessage = AVAudioRecorder(url: iGetFacets, settings: self.dAndroidParameters)
        }catch {}
    }
        
        

    @objc func isArgumentsIdent(_ sender : UILongPressGestureRecognizer) {
        if sender.state == .began {
            self.cStyleTerminal.text = " "
            self.setUseInnerVoice()
            self.jDelayFactor = true
            cPersistableMode.isHidden = false
        }else if sender.state == .ended {
            var fCreatedBefore : Bool = false
            cPersistableMode.isHidden = true
            if self.jDelayFactor == false{
                fCreatedBefore = true
                self.fRandomMessage?.stop()
            }else{
                self.bMultiPlay()
            }
            self.cStyleTerminal.text = roundPriceChange("formerly_fragile")
            self.fRandomMessage?.stop()
            self.dAudioFormats?.invalidate()
            self.dAudioFormats = nil
            if fCreatedBefore != true && self.mFpsArray == 0{
                setOnGenericMotionListener(roundPriceChange("pfngldeleteperfmonitorsamdproc_russia"))
                self.fRandomMessage?.stop()
                self.dAudioFormats?.invalidate()
                self.dAudioFormats = nil
            }
            if self.jDelayFactor == true {
                mdiFormatLetterStartsWith()
                                
            }else {
                fRandomMessage?.stop()
                self.dAudioFormats?.invalidate()
                self.dAudioFormats = nil
                self.sdkVersionAnnotation("")
                                
                PtIconWallThumbVar.iRemindersB.mockTemplateApiBeans()
                self.wOnBasis = false
                DispatchQueue.main.asyncAfter(deadline: .now() + 0.5) { [weak self] in
                    self?.fRandomMessage?.stop()
                    self?.dAudioFormats?.invalidate()
                    self?.dAudioFormats = nil
                }
            }
        }else {
            if let button = sender.view, !button.bounds.contains(sender.location(in: button)) {
                self.cStyleTerminal.text = roundPriceChange("coroutines_munlockall_ajustes")
                self.jDelayFactor = false
            }else {
                self.cStyleTerminal.text = " "
                self.jDelayFactor = true
            }
        }
    }
        
}
