
import UIKit
import AVFoundation
import AVKit
import Photos
import Package_net

class IoViewModeOriginal: IoGetTotalUnpackedSize, UIImagePickerControllerDelegate  {
        
        
        
        
        
    @IBOutlet weak var pMatchingDecimal: UIView!
        
        

    @IBOutlet weak var mTopLabel: UIImageView!
        
        

    @IBOutlet weak var dActionImage: UIView!
        
        

    @IBOutlet weak var vUpdateItems: NSLayoutConstraint!
        
        
        
    let gSettingWidth = AVPlayerViewController()
        
        
        
    @IBOutlet weak var kCompileUnit: UIActivityIndicatorView!{
        didSet{
            kCompileUnit.backgroundColor = .clear
            kCompileUnit.color = .white
            kCompileUnit.hidesWhenStopped = true
            kCompileUnit.startAnimating()
        }
    }
        
        
        
    var kSendJavascript : IoFileUtils?
        
        
        
    var dAudioFormats : Timer?
        
        
    var rHideKeyboard = 0.00
        
        
    var hContainerTo = 0.00
        
        
    var eDownloadMessage : AVPlayer?
        
        
    var fRegularExpression : NSKeyValueObservation?
        
        
    var wPrintInfo = false
        
        
    var lViewContor = ""

        
    deinit {
        eDownloadMessage = nil
        gSettingWidth.player = nil
        dAudioFormats?.invalidate()
        dAudioFormats = nil
        capturedStatusBarProperties()
    }
        
        
        

    override func viewDidLoad() {
        super.viewDidLoad()
        hContainerTo = Double(kSendJavascript!.hContainerTo)
        if hContainerTo == 0 {
            hContainerTo = 1.00
        }
        let hVibrationEffect = UIButton()
        hVibrationEffect.legacyRemoteNotificationsRequester("rozhranie_italique", 13, GettingColors("FFFFFF"))
        hVibrationEffect.setSearchViewProps(17)
        hVibrationEffect.btConvexPolyhedron(self, #selector(removeOnWebSocketTextPackageListener))
        hVibrationEffect.frame = CGRectMake(0, 0, 77, 34)
        hVibrationEffect.backgroundColor = GettingColors("CD873C")
        if kSendJavascript?.vBuilderBuffer == false {
            self.navigationItem.rightBarButtonItem = UIBarButtonItem(customView: hVibrationEffect)
        }
                
        pMatchingDecimal.addSubview(gSettingWidth.view)
        gSettingWidth.showsPlaybackControls = false
        gSettingWidth.view.wxContainerName(0, 0, 0, 0)
        dActionImage.frame = CGRectMake(0, 0, 0, 6)
        appendToMarkStack(#selector(outOfLineGrow), AVPlayerItem.didPlayToEndTimeNotification)
        vUpdateItems.constant = UIDevice.setAlignRulerOpen() + 19
                
        appendToMarkStack(#selector(onAppCreateEnd), UIApplication.willEnterForegroundNotification)
                
                
        iSuppressAnimations.symRoundedBackgroundGridSmall(kSendJavascript!.iGetFacets) { [weak self] string in
            if string.count > 0 {
                self?.setDampingOrthoLin(string)
            }else {
                self?.setBoundFunctionStructure()
            }
        }
    }
        
        
    @MainActor @objc func setDampingOrthoLin(_ req : String) {
        lViewContor = req
        gSettingWidth.player?.pause()
        gSettingWidth.player = nil
        eDownloadMessage = AVPlayer(url: NSURL(fileURLWithPath: req) as URL)
                
        fRegularExpression = eDownloadMessage!.observe(\.status, options: [.old, .new]) { player, change in
            if player.status == .readyToPlay {
                DispatchQueue.main.async { [weak self] in
                    self?.wPrintInfo = true
                    self?.symOutlinedFormatTextdirectionVertical("")
                }
            }
        }
                
        gSettingWidth.player = eDownloadMessage
    }
        
        
    @objc func setBoundFunctionStructure() {
    }
        
        
        
    @objc func removeOnWebSocketTextPackageListener() {
        if lViewContor.count > 0 {
            UISaveVideoAtPathToSavedPhotosAlbum(lViewContor, self, #selector(hasUserReportedSpam(_:_:_:)), nil)
        }else{
            setOnGenericMotionListener(roundPriceChange("coral_xhvml_shimmering"))
        }
    }
        
        
    @objc func hasUserReportedSpam(_ videoPath: String, _ error: Error?, _ contextInfo: UnsafeRawPointer) {
        if error == nil {
            setOnGenericMotionListener(roundPriceChange("nosotros_empfohlen"))
        }
    }
        
        
    @objc func outOfLineGrow() {
        dAudioFormats?.invalidate()
        dAudioFormats = nil
        dActionImage.width = view.width - 24
        let uSynchronizeFile = CMTimeMake(value: 0, timescale: 1)
        gSettingWidth.player?.seek(to: uSynchronizeFile)
        mTopLabel.isHidden = false
        dActionImage.width = 0
        rHideKeyboard = 0.00
    }
        
        
    @objc func onAppCreateEnd() {
        if gSettingWidth.player?.timeControlStatus == .paused {
            gSettingWidth.player?.play()
            mTopLabel.isHidden = true
            dAudioFormats = Timer.scheduledTimer(timeInterval: 0.01, target: self, selector: #selector(invalidateRenderOffset), userInfo: nil, repeats: true)
        }
    }
        
        
    @objc func invalidateRenderOffset() {
        rHideKeyboard += 0.01
        dActionImage.width = (rHideKeyboard/hContainerTo) * (view.width - 24.0)
    }
        
        
        
    func btMprSimplexPointW() {
        kCompileUnit.stopAnimating()
        dActionImage.width = 0
        dAudioFormats?.invalidate()
        dAudioFormats = nil
        dAudioFormats = Timer.scheduledTimer(timeInterval: 0.01, target: self, selector: #selector(invalidateRenderOffset), userInfo: nil, repeats: true)
    }
        
        
        
    override func viewWillAppear(_ animated: Bool) {
        super.viewWillAppear(animated)
                
        PtIconWallThumbVar.iRemindersB.getDevicePath()
        HeCertificateExpiredException.setClippingToBounds()
    }
        
        
    override func viewWillDisappear(_ animated: Bool) {
        super.viewWillDisappear(animated)
        setPreviewLayer()
    }
        
        
    override func viewDidDisappear(_ animated: Bool) {
        super.viewDidDisappear(animated)
                
        HeCertificateExpiredException.setClippingToBounds()
        fRegularExpression?.invalidate()
                
    }
        
        
        
    @IBAction func symOutlinedFormatTextdirectionVertical(_ sender: Any) {
        if gSettingWidth.player != nil && self.wPrintInfo == true {
            if gSettingWidth.player?.timeControlStatus == .paused {
                gSettingWidth.player?.play()
                mTopLabel.isHidden = true
                btMprSimplexPointW()
            }else{
                setPreviewLayer()
            }
        }
    }
        
        
        
    func setPreviewLayer() {
        gSettingWidth.player?.pause()
        mTopLabel.isHidden = false
        dAudioFormats?.invalidate()
        dAudioFormats = nil
    }
        
        
}
